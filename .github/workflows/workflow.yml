on:
    push:
    workflow_dispatch:

jobs:
    job:
        runs-on: macos-15
        steps:

            - name: Checkout
              uses: actions/checkout@main
              with:
                repository: sindresorhus/Pasteboard-Viewer
                fetch-depth: 0
    
            - name: Resolve Dependencies
              run: xcodebuild -resolvePackageDependencies
    
            - name: Clean Build
              run: xcodebuild clean
    
            - name: Build Project
              run: |
                xcodebuild CODE_SIGNING_ALLOWED=NO -scheme "Pasteboard Viewer" -destination "generic/platform=macOS"
    
            - name: Debug Directory
              run: ls -R build/Release
